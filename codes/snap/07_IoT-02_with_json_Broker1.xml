<project name="07_IoT-02_with_json_Broker1" app="Snap! 9.0, https://snap.berkeley.edu" version="2"><notes></notes><thumbnail>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAB4CAYAAAB1ovlvAAAAAXNSR0IArs4c6QAABWtJREFUeF7tmM1LXGcchc98ZPxIozXEQpiAigo1g1rsRmnrx6K1qdCFMKAgAzK4EXdDV8Gtf0BdFrW0IIKbggpdSBciiIti60Yr2o3QUqgotdXBRCeMiylmbBwJSU49Z5bD+957zu95eOfODWQymQz88QTe0AQCFvANTd63PZ/ApQKurKygoqICkUik4DGFw2Hs/vIzMum/s5e9ct/Z2Rlq3vsAT05PcXJygv39fbS1tV25zwtu1gTyBNzc3EQgcLVAz4+hpLgIJV9+hJJw4XuDjx5j935n7lLBYBD19fU3a8Ju88IJ5Ak4Pz+Pqqqqcwmzj4dNTU1YW1tDR0cHlpeX0dzcjPX1dSwtLWFiYgKpVAqNjY0ojtzCva8+wa3QxfuFH36Mp5s/AGeneUHCPaPYvtt2fp/s/TY2NhCPx41MaAJ5As7OzqK2tjY3grGxsfOf49XVVSSTSUSjUZyenmJkZASLi4soLS3F4eEhbpcU4Z2JRxcEDD1oQuaffYTe7cKTlW/yxhrqGcXGW+/nvt/a2kJfX5/Q+F01T8CZmRnU1NTkJpMVcmpqCpWVlUin05ienkYikUB3dzd2dnYwODiI6upq3Lldivtf91wQMHivGoG7VQiUVuDpT9/lC/jZKNaLm3LfZ0/WoaEhUxGaQJ6ACwsLKCsru/YI3i67gwfffp73E/yiCwU/fYwfww9zS7Ina2fnv8+E1w7hDf+7CVz6L3h8fByxWOxaZYqKitD8x/fAX78Xti+TwZ8ffoFfd387X5/98zM8PFzYXq+6MRP4z/eA2Vcx29vbyL5eeZWf7KlXV1eH1tbWV3kbX5t0An4RTQpGJZYFVCFN2tMCkoJRiWUBVUiT9rSApGBUYllAFdKkPS0gKRiVWBZQhTRpTwtICkYllgVUIU3a0wKSglGJZQFVSJP2tICkYFRiWUAV0qQ9LSApGJVYFlCFNGlPC0gKRiWWBVQhTdrTApKCUYllAVVIk/a0gKRgVGJZQBXSpD0tICkYlVgWUIU0aU8LSApGJZYFVCFN2tMCkoJRiWUBVUiT9rSApGBUYllAFdKkPS0gKRiVWBZQhTRpTwtICkYllgVUIU3a0wKSglGJZQFVSJP2tICkYFRiWUAV0qQ9LSApGJVYFlCFNGlPC0gKRiWWBVQhTdrTApKCUYllAVVIk/a0gKRgVGJZQBXSpD0tICkYlVgWUIU0aU8LSApGJZYFvIJ0b28vDg4OMDQ0hPb2dkSjURU3XktPC3jFmPf29jA4OIhQKHS+MhAIIBgMIplMoqurC8XFxa8F1E29iQUsgOzk5CTm5uYuXZlOp5FIJNDf31/Albzk+QlYwCucODo6QjweRyQSya3MnoCxWAypVArl5eW26iUmYAELeAY8Pj5GQ0MDBgYG0NLS8hLj9lafgHaAagI+Aalw6IWxgHrMqRpbQCocemEsoB5zqsYWkAqHXhgLqMecqrEFpMKhF8YC6jGnamwBqXDohbGAesypGltAKhx6YSygHnOqxhaQCodeGAuox5yqsQWkwqEXxgLqMadqbAGpcOiFsYB6zKkaW0AqHHphLKAec6rGFpAKh14YC6jHnKqxBaTCoRfGAuoxp2psAalw6IWxgHrMqRpbQCocemEsoB5zqsYWkAqHXhgLqMecqrEFpMKhF8YC6jGnamwBqXDohbGAesypGltAKhx6YSygHnOqxhaQCodeGAuox5yqsQWkwqEXxgLqMadqbAGpcOiFsYB6zKkaW0AqHHphLKAec6rGFpAKh14YC6jHnKqxBaTCoRfGAuoxp2psAalw6IWxgHrMqRpbQCocemEsoB5zqsYWkAqHXhgLqMecqrEFpMKhF+YZi9GYt6dHbA8AAAAASUVORK5CYII=</thumbnail><scenes select="1"><scene name="07_IoT-02_with_json_Broker1"><notes></notes><palette><category name="MQTT" color="143,0,100,1"/></palette><hidden></hidden><headers></headers><code></code><blocks><block-definition s="$cloudOutline MQTT connect to %&apos;broker&apos; $nl $options-1-192-192-192 %&apos;options&apos;" type="command" category="MQTT"><comment x="0" y="0" w="416.6666666666666" collapsed="false">Connect to a broker&#xD;&#xD;The options are not required but can be filled if needed&#xD;&#xD;1. username (some brokers need this)&#xD;2. password (some brokers need this)&#xD;3. keepalive (default time is 60 seconds but some brokers need a shorter time)&#xD;4. connection callback (ringed set of scripts to be run when connection is made or remade)&#xD;&#xD;Note: The connection callback doesn&apos;&apos;t have to be the 4th option - it just has to be the last (or only) option.&#xD;&#xD;ADVANCED: The brokers offered in the menu are accessed using default ports and  basepaths (if needed).  If accessing other brokers, the complete urls should be formed like this:&#xD;&#xD;siteURL:port/basepath &#xD;e.g mqtt.eclipseprojects.io:443/mqtt&#xD;&#xD;It is possible to have more than one connection to the same broker, for instance, using two different user/pass accounts simultaneously. To do this, add a connection id at the end of the broker:&#xD;&#xD;e.g mqtt.eclipseprojects.io:443/mqtt|1&#xD;</comment><header></header><code></code><translations></translations><inputs><input type="%s">broker.emqx.io<options>broker.emqx.io&#xD;mqtt.eclipseprojects.io&#xD;test.mosquitto.org&#xD;broker.xmqtt.net</options></input><input type="%mult%s"></input></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqtt.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqttExtension.js</l></list></block><block s="doIf"><block s="reportNot"><block s="reportJoinWords"><block var="options"/></block></block><script><block s="doSetVar"><l>options</l><block s="reportNewList"><list></list></block></block></script><list></list></block><block s="doDeclareVariables"><list><l>connection status</l><l>callback</l></list></block><block s="doSetVar"><l>connection status</l><l>connecting</l></block><block s="doSetVar"><l>callback</l><l></l></block><block s="doIf"><block s="reportIsA"><block s="reportListItem"><l><option>last</option></l><block var="options"/></block><l><option>command</option></l></block><script><block s="doSetVar"><l>callback</l><block s="reportListItem"><l><option>last</option></l><block var="options"/></block></block><block s="doDeleteFromList"><l><option>last</option></l><block var="options"/></block></script><list></list></block><block s="doSetVar"><l>options</l><block s="reportListAttribute"><l><option>json</option></l><block s="reportNewList"><list><block s="reportNewList"><list><l>username</l><block s="reportListItem"><l>1</l><block var="options"/></block></list></block><block s="reportNewList"><list><l>password</l><block s="reportListItem"><l>2</l><block var="options"/></block></list></block><block s="reportNewList"><list><l>keepalive</l><block s="reportListItem"><l>3</l><block var="options"/></block></list></block></list></block></block></block><block s="doApplyExtension"><l>mqt_connect(broker,callback,options)</l><list><block var="broker"/><block var="callback"/><block var="options"/></list></block><block s="doWaitUntil"><block s="reportNot"><block s="reportVariadicEquals"><list><block var="connection status"/><l>connecting</l></list></block></block></block><block s="doIf"><block s="reportNot"><block s="reportVariadicEquals"><list><block var="connection status"/><l>connected</l></list></block></block><script><block s="doApplyExtension"><l>err_error(msg)</l><list><block var="connection status"/></list></block></script><list></list></block></script></block-definition><block-definition s="$cloudOutline MQTT publish to %&apos;broker&apos; topic %&apos;topic&apos; payload %&apos;payload&apos; $nl $options-1-192-192-192 %&apos;options&apos;" type="command" category="MQTT"><comment x="0" y="0" w="200" collapsed="false">Publish a message to an MQTT broker&#xD;&#xD;The options are not required but can be filled if needed&#xD;&#xD;1. qos (quality of service 0,1 or 2)&#xD;2. retain flag (boolean)&#xD;</comment><header></header><code></code><translations></translations><inputs><input type="%s">broker.emqx.io<options>broker.emqx.io&#xD;mqtt.eclipseprojects.io&#xD;test.mosquitto.org&#xD;broker.xmqtt.net</options></input><input type="%s">name</input><input type="%mlt">hello</input><input type="%mult%s"></input></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqtt.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqttExtension.js</l></list></block><block s="doIf"><block s="reportNot"><block s="reportJoinWords"><block var="options"/></block></block><script><block s="doSetVar"><l>options</l><block s="reportNewList"><list></list></block></block></script><list></list></block><block s="doSetVar"><l>options</l><block s="reportListAttribute"><l><option>json</option></l><block s="reportNewList"><list><block s="reportNewList"><list><l>qos</l><block s="reportListItem"><l>1</l><block var="options"/></block></list></block><block s="reportNewList"><list><l>retain</l><block s="reportListItem"><l>2</l><block var="options"/></block></list></block></list></block></block></block><block s="doIf"><block s="reportIsA"><block var="payload"/><l><option>list</option></l></block><script><block s="doSetVar"><l>payload</l><block s="reportListAttribute"><l><option>json</option></l><block var="payload"/></block></block></script><list></list></block><block s="doIf"><block s="reportIsA"><block var="payload"/><l><option>number</option></l></block><script><block s="doSetVar"><l>payload</l><block s="reportJoinWords"><list><block var="payload"/></list></block></block></script><list></list></block><block s="doApplyExtension"><l>mqt_pub(broker,topic,payload,options)</l><list><block var="broker"/><block var="topic"/><block var="payload"/><block var="options"/></list></block></script></block-definition><block-definition s="$cloudOutline MQTT subscribe to %&apos;broker&apos; topic %&apos;topic&apos; $nl on each message run %&apos;callback&apos; $nl $options-1-192-192-192 %&apos;options&apos;" type="command" category="MQTT"><comment x="0" y="0" w="239.99999999999977" collapsed="false">Subscribe to a topic on a broker&#xD;&#xD;Make sure you have already run an MQTT connect block before using this one&#xD;&#xD;You should add a script to be run inside he grey ring.&#xD;&#xD;It will be run each time a message is received&#xD;&#xD;If you click on the arrow on the grey ring twice, you can use #1 and #2 inside your script.&#xD;&#xD;#1 will contain the received payload&#xD;&#xD;#2 will contain the received topic name&#xD;&#xD;The options are not required but can be filled if needed&#xD;&#xD;There is only 1 option at present&#xD;1. Binary mode (boolean) If true, payload returned as plain binary byte string.  Default condition (false) it is returned as UTF text string</comment><header></header><code></code><translations></translations><inputs><input type="%s">broker.emqx.io<options>broker.emqx.io&#xD;mqtt.eclipseprojects.io&#xD;test.mosquitto.org&#xD;broker.xmqtt.net</options></input><input type="%s">name</input><input type="%cmdRing"></input><input type="%mult%s"></input></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqtt.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqttExtension.js</l></list></block><block s="doIf"><block s="reportNot"><block s="reportJoinWords"><block var="options"/></block></block><script><block s="doSetVar"><l>options</l><block s="reportNewList"><list></list></block></block></script><list></list></block><block s="doSetVar"><l>options</l><block s="reportListAttribute"><l><option>json</option></l><block s="reportNewList"><list><block s="reportNewList"><list><l>mode</l><block s="reportListItem"><l>1</l><block var="options"/></block></list></block></list></block></block></block><block s="doApplyExtension"><l>mqt_sub(broker,topic,callback,options)</l><list><block var="broker"/><block var="topic"/><block var="callback"/><block var="options"/></list></block></script></block-definition><block-definition s="$cloudOutline MQTT unsubscribe from %&apos;broker&apos; topic %&apos;topic&apos;" type="command" category="MQTT"><header></header><code></code><translations></translations><inputs><input type="%s">broker.emqx.io<options>broker.emqx.io&#xD;mqtt.eclipseprojects.io&#xD;test.mosquitto.org&#xD;broker.xmqtt.net</options></input><input type="%s">name</input></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqtt.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqttExtension.js</l></list></block><block s="doApplyExtension"><l>mqt_unsub(broker,topic)</l><list><block var="broker"/><block var="topic"/></list></block></script></block-definition><block-definition s="$cloudOutline MQTT disconnect from %&apos;broker&apos;" type="command" category="MQTT"><header></header><code></code><translations></translations><inputs><input type="%s">all<options>all&#xD;broker.emqx.io&#xD;mqtt.eclipseprojects.io&#xD;test.mosquitto.org&#xD;broker.xmqtt.net</options></input></inputs><script><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqtt.js</l></list></block><block s="doApplyExtension"><l>src_load(url)</l><list><l>libraries/mqttExtension.js</l></list></block><block s="doApplyExtension"><l>mqt_disconnect(broker)</l><list><block var="broker"/></list></block></script></block-definition><block-definition s="$cloudOutline MQTT response %&apos;broker&apos; topic %&apos;topic&apos; $nl reply %&apos;reply&apos; $nl $options-1-192-192-192 %&apos;$options&apos;" type="command" category="MQTT"><comment x="0" y="0" w="178" collapsed="false">There is only 1 option at present&#xD;1. Binary mode (boolean) If true, payload returned as plain binary byte string.  Default condition (false) it is returned as UTF text string</comment><header></header><code></code><translations></translations><inputs><input type="%s">broker.emqx.io<options>broker.emqx.io&#xD;mqtt.eclipseprojects.io&#xD;test.mosquitto.org&#xD;broker.xmqtt.net</options></input><input type="%s">name/#</input><input type="%repRing"></input><input type="%mult%s"></input></inputs><script><block s="doDeclareVariables"><list><l>resp</l><l>callbackTopic</l><l>error</l></list></block><custom-block s="$cloudOutline MQTT subscribe to %s topic %s %br on each message run %cmdRing %br $options-1-192-192-192 %mult%s"><block var="broker"/><block var="topic"/><block s="reifyScript"><script><block s="doIf"><block s="reportVariadicGreaterThan"><list><block s="reportApplyExtension"><l>txt_indexof(sub, txt)</l><list><l>/@</l><block var="received topic"/></list></block><l>0</l></list></block><script><block s="doApplyExtension"><l>err_try(cmd, catch, err)</l><list><block s="reifyScript"><script><block s="doSetVar"><l>resp</l><block s="evaluate"><block var="reply"/><list><block var="received payload"/><block var="received topic"/></list></block></block></script><list></list></block><block s="reifyScript"><script><block s="doSetVar"><l>resp</l><block s="evaluate"><block var="reply"/><list></list></block></block></script><list></list></block><block var="error"/></list></block><block s="doApplyExtension"><l>err_reset</l><list></list></block><block s="doSetVar"><l>callbackTopic</l><block s="reportListItem"><l><option>last</option></l><block s="reportTextSplit"><block var="received topic"/><l>@</l></block></block></block><custom-block s="$cloudOutline MQTT publish to %s topic %s payload %mlt %br $options-1-192-192-192 %mult%s"><block var="broker"/><block var="callbackTopic"/><block var="resp"/><list><l></l></list></custom-block></script><list></list></block></script><list><l>received payload</l><l>received topic</l></list></block><list><block s="reportListItem"><l>1</l><block var="$options"/></block></list></custom-block></script></block-definition><block-definition s="$cloudOutline MQTT request %&apos;broker&apos; topic %&apos;topic&apos; $nl response topic %&apos;rtopic&apos; payload %&apos;payload&apos; $nl on response run %&apos;callback&apos; $nl $options-1-192-192-192 %&apos;options&apos;" type="command" category="MQTT"><comment x="0" y="0" w="140" collapsed="false">There is only 1 option at present&#xD;1. Binary mode (boolean) If true, payload returned as plain binary byte string.  Default condition (false) it is returned as UTF text string</comment><header></header><code></code><translations></translations><inputs><input type="%s">broker.emqx.io<options>broker.emqx.io&#xD;mqtt.eclipseprojects.io&#xD;test.mosquitto.org&#xD;broker.xmqtt.net</options></input><input type="%s">name</input><input type="%s">name2</input><input type="%mlt">hello</input><input type="%cmdRing"></input><input type="%mult%s"></input></inputs><script><block s="doDeclareVariables"><list><l>error</l></list></block><custom-block s="$cloudOutline MQTT subscribe to %s topic %s %br on each message run %cmdRing %br $options-1-192-192-192 %mult%s"><block var="broker"/><block s="reportJoinWords"><list><block var="rtopic"/></list></block><block s="reifyScript"><script><block s="doApplyExtension"><l>err_try(cmd, catch, err)</l><list><block s="reifyScript"><script><block s="doRun"><block var="callback"/><list><block var="received payload"/><block var="received topic"/></list></block></script><list></list></block><block s="reifyScript"><script><block s="doRun"><block var="callback"/><list></list></block></script><list></list></block><block var="error"/></list></block></script><list><l>received payload</l><l>received topic</l></list></block><list><block s="reportListItem"><l>1</l><block var="options"/></block></list></custom-block><custom-block s="$cloudOutline MQTT publish to %s topic %s payload %mlt %br $options-1-192-192-192 %mult%s"><block var="broker"/><block s="reportJoinWords"><list><block var="topic"/><l>/</l><block s="reportJoinWords"><list><l>@</l><block var="rtopic"/></list></block></list></block><block var="payload"/><list><l></l></list></custom-block></script></block-definition><block-definition s="$cloudOutline MQTT example response reporter payload %&apos;payload&apos; topic %&apos;topic&apos;" type="reporter" category="MQTT"><comment x="0" y="0" w="90" collapsed="false">This is a simple echo example.&#xD;Topic can be used to filter the response.</comment><header></header><code></code><translations></translations><inputs><input type="%mlt">hello</input><input type="%txt">name</input></inputs><script><block s="doReport"><block var="payload"/></block></script></block-definition><block-definition s="$cloudOutline MQTT request %&apos;broker&apos; topic %&apos;topic&apos; $nl response topic %&apos;rtopic&apos; payload %&apos;payload&apos; $nl $options-1-192-192-192 %&apos;options&apos;" type="reporter" category="MQTT"><comment x="0" y="0" w="343" collapsed="false">The response topic should be a unique value for each call e.g. use timer&#xD;&#xD;The options are not required but can be filled if needed&#xD;&#xD;1.  Timeout value - default is 3 seconds&#xD;2.  Binary mode (boolean) If true, payload returned as plain binary byte string.  Default condition (false) it is returned as UTF text string</comment><header></header><code></code><translations></translations><inputs><input type="%s">broker.emqx.io<options>broker.emqx.io&#xD;mqtt.eclipseprojects.io&#xD;test.mosquitto.org&#xD;broker.xmqtt.net</options></input><input type="%s">name</input><input type="%s">name2</input><input type="%mlt">hello</input><input type="%mult%s"></input></inputs><script><block s="doDeclareVariables"><list><l>resp</l><l>semaphore</l><l>timer0</l><l>timeout</l></list></block><block s="doSetVar"><l>semaphore</l><l>0</l></block><block s="doSetVar"><l>timeout</l><block s="reportIfElse"><block s="reportIsA"><block s="reportListItem"><l>1</l><block var="options"/></block><l><option>number</option></l></block><block s="reportListItem"><l>1</l><block var="options"/></block><l>3</l></block></block><block s="doSetVar"><l>resp</l><l>timeout</l></block><custom-block s="$cloudOutline MQTT subscribe to %s topic %s %br on each message run %cmdRing %br $options-1-192-192-192 %mult%s"><block var="broker"/><block s="reportJoinWords"><list><block var="rtopic"/></list></block><block s="reifyScript"><script><block s="doSetVar"><l>resp</l><block var="received payload"/></block><block s="doSetVar"><l>semaphore</l><l>1</l></block></script><list><l>received payload</l><l>received topic</l></list></block><list><block s="reportListItem"><l>2</l><block var="options"/></block></list></custom-block><custom-block s="$cloudOutline MQTT publish to %s topic %s payload %mlt %br $options-1-192-192-192 %mult%s"><block var="broker"/><block s="reportJoinWords"><list><block var="topic"/><l>/</l><block s="reportJoinWords"><list><l>@</l><block var="rtopic"/></list></block></list></block><block var="payload"/><list><l></l></list></custom-block><block s="doSetVar"><l>timer0</l><block s="reportDate"><l><option>time in milliseconds</option></l></block></block><block s="doWaitUntil"><block s="reportVariadicOr"><list><block s="reportVariadicEquals"><list><block var="semaphore"/><l>1</l></list></block><block s="reportVariadicGreaterThan"><list><block s="reportDifference"><block s="reportDate"><l><option>time in milliseconds</option></l></block><block var="timer0"/></block><block s="reportVariadicProduct"><list><block var="timeout"/><l>1000</l></list></block></list></block></list></block></block><custom-block s="$cloudOutline MQTT unsubscribe from %s topic %s"><block var="broker"/><block s="reportJoinWords"><list><block var="rtopic"/></list></block></custom-block><block s="doReport"><block var="resp"/></block></script></block-definition><block-definition s="MQTT Extension Examples" type="command" category="MQTT"><comment x="0" y="0" w="277" collapsed="false">Open (edit) this block to look at examples how to use the MQTT Extension blocks&#xD;&#xD;Background documentation:&#xD;https://github.com/pixavier/mqtt4snap&#xD;&#xD;Last source code version (mqtt.xml and mqttExtension.js):&#xD;https://gitlab.com/cymplecy/Snap/-/tree/master/libraries</comment><header></header><code></code><translations></translations><inputs></inputs><scripts><script x="30" y="782.0333333333333"><custom-block s="$cloudOutline MQTT request %s topic %s %br response topic %s payload %mlt %br on response run %cmdRing %br $options-1-192-192-192 %mult%s"><l>broker.emqx.io</l><l>name</l><block s="getTimer"></block><l>hello</l><block s="reifyScript"><script><block s="doSayFor"><block var="payload"/><l>2</l></block></script><list><l>payload</l><l>topic</l></list></block><list><l></l></list></custom-block></script><comment x="28.000000000000004" y="715.6999999999998" w="247" collapsed="false">Asynchronous client-server Hello World!</comment><comment x="503.9999999999998" y="788.7" w="224.00000000000003" collapsed="false">Step 2 bis: Send a request (timer acts as idCall).</comment><comment x="27.333333333333485" y="433.1999999999993" w="244.00000000000003" collapsed="false">Synchronous client-Server Hello World!</comment><script x="24.333333333333485" y="371.8666666666665"><custom-block s="$cloudOutline MQTT publish to %s topic %s payload %mlt %br $options-1-192-192-192 %mult%s"><l>broker.emqx.io</l><l>name</l><l>hello</l><list><l></l></list></custom-block></script><script x="22.333333333333485" y="271.1999999999999"><custom-block s="$cloudOutline MQTT subscribe to %s topic %s %br on each message run %cmdRing %br $options-1-192-192-192 %mult%s"><l>broker.emqx.io</l><l>name</l><block s="reifyScript"><script><block s="doSayFor"><block var="payload"/><l>2</l></block></script><list><l>payload</l><l>topic</l></list></block><list><l></l></list></custom-block></script><script x="20.333333333333485" y="208.2"><custom-block s="$cloudOutline MQTT connect to %s %br $options-1-192-192-192 %mult%s"><l>broker.emqx.io</l><list><l></l></list></custom-block></script><comment x="19.333333333333485" y="151.2" w="240" collapsed="false">PubSub Hello World!</comment><comment x="496.99999999999983" y="213.2" w="222.99999999999997" collapsed="false">Step 0: Connect to the broker</comment><comment x="497.9999999999998" y="291.19999999999976" w="222" collapsed="false">Step 1: Subscribe to a topic</comment><comment x="497.9999999999998" y="370.19999999999976" w="222" collapsed="false">Step 2: Publish a message</comment><comment x="525.9999999999998" y="140.2" w="191" collapsed="false">To execute the examples, single click on blocks, following the corresponding steps.</comment><comment x="503.9999999999998" y="516.6999999999998" w="220" collapsed="false">Step 1: Activate the responder.</comment><comment x="503.9999999999998" y="614.7000000000003" w="220" collapsed="false">Step 2: Send a request (timer acts as idCall).</comment><script x="28.33333333333348" y="615.1999999999994"><block s="doSayFor"><custom-block s="$cloudOutline MQTT request %s topic %s %br response topic %s payload %mlt %br $options-1-192-192-192 %mult%s"><l>broker.emqx.io</l><l>name</l><block s="getTimer"></block><l>hello</l><list><l></l></list></custom-block><l>2</l></block></script><script x="24.333333333333485" y="499.2"><custom-block s="$cloudOutline MQTT response %s topic %s %br reply %repRing %br $options-1-192-192-192 %mult%s"><l>broker.emqx.io</l><l>name/#</l><block s="reifyReporter"><autolambda><custom-block s="$cloudOutline MQTT example response reporter payload %mlt topic %txt"><block var="payload"/><block var="topic"/></custom-block></autolambda><list><l>payload</l><l>topic</l></list></block><list><l></l></list></custom-block></script></scripts></block-definition><block-definition s="setBroker1" type="command" category="MQTT"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doSetVar"><l>broker</l><l>vps656540.ovh.net:8081</l></block><block s="doSetVar"><l>brokerCredentials</l><block s="reportNewList"><list><l>user</l><l>pass</l></list></block></block></script></block-definition><block-definition s="setBroker2" type="command" category="MQTT"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doSetVar"><l>broker</l><l>formacio.things.cat:9001</l></block><block s="doSetVar"><l>brokerCredentials</l><block s="reportNewList"><list><l>ecat</l><l>clotClot</l></list></block></block></script></block-definition><block-definition s="setTopics" type="command" category="MQTT"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doSetVar"><l>topicMacReq</l><l>/macReq</l></block><block s="doSetVar"><l>topicMac</l><l>/mac</l></block></script></block-definition><block-definition s="setCtrlTopics" type="command" category="MQTT"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doSetVar"><l>topicLedW</l><block s="reportJoinWords"><list><l>/</l><block var="MAC"/><l>/ledW</l></list></block></block><block s="doSetVar"><l>topicLedR</l><block s="reportJoinWords"><list><l>/</l><block var="MAC"/><l>/ledR</l></list></block></block><block s="doSetVar"><l>topicLedY</l><block s="reportJoinWords"><list><l>/</l><block var="MAC"/><l>/ledY</l></list></block></block><block s="doSetVar"><l>topicLedG</l><block s="reportJoinWords"><list><l>/</l><block var="MAC"/><l>/ledG</l></list></block></block><block s="doSetVar"><l>topicLatchingRelay</l><block s="reportJoinWords"><list><l>/</l><block var="MAC"/><l>/latchingRelay</l></list></block></block><block s="doSetVar"><l>topicJsonLeds</l><block s="reportJoinWords"><list><l>/</l><block var="MAC"/><l>/jsonLeds</l></list></block></block></script></block-definition><block-definition s="MQTT pub %&apos;brk&apos; %&apos;topic&apos; %&apos;msg&apos;" type="command" category="MQTT"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%s"></input><input type="%s"></input></inputs><script><custom-block s="$cloudOutline MQTT publish to %s topic %s payload %mlt %br $options-1-192-192-192 %mult%s"><block var="brk"/><block var="topic"/><block var="msg"/><list><l></l></list></custom-block></script></block-definition><block-definition s="subscrTopics %&apos;brk&apos; %&apos;mac&apos;" type="command" category="MQTT"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%s"></input></inputs><script><custom-block s="$cloudOutline MQTT subscribe to %s topic %s %br on each message run %cmdRing %br $options-1-192-192-192 %mult%s"><block var="brk"/><block s="reportJoinWords"><list><l>/</l><block var="mac"/><l>/#</l></list></block><block s="reifyScript"><script><block s="doIf"><block s="reportVariadicEquals"><list><block s="reportJoinWords"><list><l>/</l><block var="mac"/><l>/btIO0</l></list></block><block var="#2"/></list></block><script><block s="doSayFor"><block s="reportJoinWords"><list><l>btIO0: </l><block var="#1"/></list></block><l>.5</l></block></script><list></list></block><block s="doIf"><block s="reportVariadicEquals"><list><block s="reportJoinWords"><list><l>/</l><block var="mac"/><l>/btI34</l></list></block><block var="#2"/></list></block><script><block s="doSayFor"><block s="reportJoinWords"><list><l>btI34: </l><block var="#1"/></list></block><l>.5</l></block></script><list></list></block><block s="doIf"><block s="reportVariadicEquals"><list><block s="reportJoinWords"><list><l>/</l><block var="mac"/><l>/btI35</l></list></block><block var="#2"/></list></block><script><block s="doSayFor"><block s="reportJoinWords"><list><l>btI35: </l><block var="#1"/></list></block><l>.5</l></block></script><list></list></block><block s="doIf"><block s="reportVariadicEquals"><list><block s="reportJoinWords"><list><l>/</l><block var="mac"/><l>/latchingRelayState</l></list></block><block var="#2"/></list></block><script><block s="doSayFor"><block s="reportJoinWords"><list><l>Relay State: </l><block var="#1"/></list></block><l>.5</l></block></script><list></list></block><block s="doIf"><block s="reportVariadicEquals"><list><block s="reportJoinWords"><list><l>/</l><block var="mac"/><l>/ldr</l></list></block><block var="#2"/></list></block><script><block s="doSayFor"><block s="reportJoinWords"><list><l>LDR: </l><block var="#1"/></list></block><l>.5</l></block></script><list></list></block><block s="doIf"><block s="reportVariadicEquals"><list><block s="reportJoinWords"><list><l>/</l><block var="mac"/><l>/temp</l></list></block><block var="#2"/></list></block><script><block s="doSayFor"><block s="reportJoinWords"><list><l>T: </l><block var="#1"/><l>ÂºC</l></list></block><l>.5</l></block></script><list></list></block><block s="doIf"><block s="reportVariadicEquals"><list><block s="reportJoinWords"><list><l>/</l><block var="mac"/><l>/jsonIn</l></list></block><block var="#2"/></list></block><script><block s="doSetVar"><l>jsonIn</l><block s="reportTextSplit"><block var="#1"/><l><option>json</option></l></block></block><block s="doSayFor"><block s="reportJoinWords"><list><block var="#1"/></list></block><l>.5</l></block></script><list></list></block><block s="doIf"><block s="reportVariadicEquals"><list><block s="reportJoinWords"><list><l>/</l><block var="mac"/><l>/jsonBme</l></list></block><block var="#2"/></list></block><script><block s="doSetVar"><l>jsonBme</l><block s="reportTextSplit"><block var="#1"/><l><option>json</option></l></block></block><block s="doSayFor"><block s="reportJoinWords"><list><block var="#1"/></list></block><l>.5</l></block></script><list></list></block></script><list><l>#1</l><l>#2</l></list></block><list><l></l></list></custom-block></script></block-definition><block-definition s="unsubscrAll %&apos;brk&apos; %&apos;mac&apos;" type="command" category="MQTT"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%s"></input></inputs><script><custom-block s="$cloudOutline MQTT unsubscribe from %s topic %s"><block var="brk"/><block s="reportJoinWords"><list><l>/</l><block var="mac"/><l>/#</l></list></block></custom-block></script></block-definition></blocks><stage name="Stage" width="480" height="360" costume="0" color="255,255,255,1" tempo="60" threadsafe="false" penlog="false" volume="100" pan="0" lines="round" ternary="false" hyperops="true" codify="false" inheritance="true" sublistIDs="false" id="1031"><pentrails>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFoCAYAAACPNyggAAAAAXNSR0IArs4c6QAADoVJREFUeF7t1cEJAAAIxDDdf2m3sJ+4wEEQuuMIECBAgACBd4F9XzRIgAABAgQIjAB7AgIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECByxcQFpoRMBzwAAAABJRU5ErkJggg==</pentrails><costumes><list struct="atomic" id="1032"></list></costumes><sounds><list struct="atomic" id="1033"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites select="1"><sprite name="Sprite" idx="1" x="4.329942927559387" y="-4.6557877747929695" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="80,80,80,1" pen="tip" id="1038"><costumes><list struct="atomic" id="1039"></list></costumes><sounds><list struct="atomic" id="1040"></list></sounds><blocks></blocks><variables></variables><scripts><script x="14.00000000000001" y="8.333333333333334"><block s="receiveGo"></block><custom-block s="setBroker1"></custom-block><custom-block s="$cloudOutline MQTT connect to %s %br $options-1-192-192-192 %mult%s"><block var="broker"/><list><block s="reportListItem"><l>1</l><block var="brokerCredentials"/></block><block s="reportListItem"><l><option>last</option></l><block var="brokerCredentials"/></block></list></custom-block><custom-block s="setTopics"></custom-block></script><script x="15" y="139.16666666666669"><block s="receiveKey"><l><option>space</option></l><list></list></block><custom-block s="$cloudOutline MQTT subscribe to %s topic %s %br on each message run %cmdRing %br $options-1-192-192-192 %mult%s"><block var="broker"/><block var="topicMac"/><block s="reifyScript"><script><block s="doIf"><block s="reportVariadicEquals"><list><block var="topicMac"/><block var="#2"/></list></block><script><block s="doSetVar"><l>MAC</l><block var="#1"/></block><custom-block s="$cloudOutline MQTT unsubscribe from %s topic %s"><block var="broker"/><block var="topicMac"/></custom-block><custom-block s="setCtrlTopics"></custom-block><custom-block s="subscrTopics %s %s"><block var="broker"/><block var="MAC"/></custom-block></script><list></list></block></script><list><l>#1</l><l>#2</l></list></block><list><l></l></list></custom-block><block s="doSayFor"><l>Press IO0 button while publishing topicMacReq</l><l>2</l></block></script><script x="12.000000000000005" y="394.33333333333337"><block s="receiveKey"><l><option>p</option></l><list></list></block><custom-block s="$cloudOutline MQTT publish to %s topic %s payload %mlt %br $options-1-192-192-192 %mult%s"><block var="broker"/><block var="topicMacReq"/><l>Requesting MAC</l><list><l></l></list></custom-block></script><script x="15.999999999999991" y="477.1666666666667"><block s="receiveKey"><l><option>m</option></l><list></list></block><block s="doSetVar"><l>MAC</l><l>7C9EBDF872FC</l></block><custom-block s="setCtrlTopics"></custom-block><custom-block s="subscrTopics %s %s"><block var="broker"/><block var="MAC"/></custom-block></script><script x="244.00000000000003" y="471.1666666666667"><block s="receiveKey"><l><option>x</option></l><list></list></block><custom-block s="$cloudOutline MQTT unsubscribe from %s topic %s"><block var="broker"/><block var="topicMac"/></custom-block><custom-block s="unsubscrAll %s %s"><block var="broker"/><block var="MAC"/></custom-block><custom-block s="$cloudOutline MQTT disconnect from %s"><block var="broker"/></custom-block><block s="doSetVar"><l>MAC</l><l>0</l></block></script><script x="12.000000000000005" y="818.1666666666666"><custom-block s="MQTT pub %s %s %s"><block var="broker"/><block var="topicLedG"/><l>1</l></custom-block></script><script x="231" y="816.9999999999999"><custom-block s="MQTT pub %s %s %s"><block var="broker"/><block var="topicLedG"/><l>0</l></custom-block></script><script x="10.999999999999991" y="771.1666666666667"><custom-block s="MQTT pub %s %s %s"><block var="broker"/><block var="topicLatchingRelay"/><l>1</l></custom-block></script><script x="279" y="768"><custom-block s="MQTT pub %s %s %s"><block var="broker"/><block var="topicLatchingRelay"/><l>0</l></custom-block></script><script x="12.000000000000005" y="726.1666666666666"><custom-block s="MQTT pub %s %s %s"><block var="broker"/><block var="topicLedW"/><l>1</l></custom-block></script><script x="234.20507812500003" y="724"><custom-block s="MQTT pub %s %s %s"><block var="broker"/><block var="topicLedW"/><l>0</l></custom-block></script><script x="60" y="682.3333333333334"><custom-block s="MQTT pub %s %s %s"><block var="broker"/><block s="reportJoinWords"><list><l>/</l><block var="MAC"/><l>/latchingRelayStateReq</l></list></block><l>reqLRstate</l></custom-block></script><script x="10" y="647.8333333333334"><custom-block s="MQTT pub %s %s %s"><block var="broker"/><block s="reportJoinWords"><list><l>/</l><block var="MAC"/><l>/ldrReq</l></list></block><l>reqLRstate</l></custom-block></script><script x="60" y="609.0000000000001"><custom-block s="MQTT pub %s %s %s"><block var="broker"/><block s="reportJoinWords"><list><l>/</l><block var="MAC"/><l>/tempReq</l></list></block><l>reqTemp</l></custom-block></script><script x="12.000000000000005" y="864"><custom-block s="MQTT pub %s %s %s"><block var="broker"/><block s="reportJoinWords"><list><l>/</l><block var="MAC"/><l>/24pxTxt</l></list></block><l>UPC-School</l></custom-block></script><script x="10.999999999999991" y="916.8333333333334"><custom-block s="MQTT pub %s %s %s"><block var="broker"/><block s="reportJoinWords"><list><l>/</l><block var="MAC"/><l>/16pxTxt</l></list></block><l>Industry 40 Master</l></custom-block></script><script x="10.999999999999991" y="969.6666666666669"><custom-block s="MQTT pub %s %s %s"><block var="broker"/><block s="reportJoinWords"><list><l>/</l><block var="MAC"/><l>/10pxTxt</l></list></block><l>Tecnologias IoT, Hands on y MVP</l></custom-block></script><script x="12.999999999999996" y="1025.5000000000005"><custom-block s="MQTT pub %s %s %s"><block var="broker"/><block s="reportJoinWords"><list><l>/</l><block var="MAC"/><l>/jsonInReq</l></list></block><l>Requesting jsonIn</l></custom-block></script><script x="10.999999999999991" y="1076.333333333334"><custom-block s="MQTT pub %s %s %s"><block var="broker"/><block s="reportJoinWords"><list><l>/</l><block var="MAC"/><l>/jsonBmeReq</l></list></block><l>Requesting jsonBme</l></custom-block></script><script x="12.999999999999996" y="1125.1666666666674"><custom-block s="MQTT pub %s %s %s"><block var="broker"/><block var="topicJsonLeds"/><l>{"ledW": true, "ledR": 0, "ledY": 1, "ledG": 0}</l></custom-block></script><script x="10.999999999999991" y="1171.000000000001"><custom-block s="MQTT pub %s %s %s"><block var="broker"/><block var="topicJsonLeds"/><l>{"ledW": false, "ledR": 1, "ledY": 0, "ledG": 1}</l></custom-block></script><script x="10.999999999999991" y="1218.0000000000007"><custom-block s="MQTT pub %s %s %s"><block var="broker"/><block var="topicJsonLeds"/><l>{"ledW": true, "ledR": 1, "ledY": 1, "ledG": 1}</l></custom-block></script><script x="10" y="1265.8333333333344"><custom-block s="MQTT pub %s %s %s"><block var="broker"/><block var="topicJsonLeds"/><l>{"ledW": false, "ledR": 0, "ledY": 0, "ledG": 0}</l></custom-block></script></scripts></sprite><watcher var="broker" style="normal" x="15.533980582525146" y="15.533980582524315" color="243,118,29" hidden="true"/><watcher var="brokerCredentials" style="normal" x="15.533980582525146" y="48.15534291262155" color="243,118,29" hidden="true"/><watcher var="topicMacReq" style="normal" x="15.533980582525146" y="192.62136543689365" color="243,118,29" hidden="true"/><watcher var="topicMac" style="normal" x="15.533980582525146" y="225.24272776699033" color="243,118,29" hidden="true"/><watcher var="MAC" style="normal" x="12.427184466018844" y="4.6602066019417165" color="243,118,29"/><watcher var="topicLedW" style="normal" x="16.00000000000091" y="16.000000000000064" color="243,118,29" hidden="true"/><watcher var="topicLedR" style="normal" x="16.00000000000091" y="49.600003200000174" color="243,118,29" hidden="true"/><watcher var="topicLedY" style="normal" x="16.00000000000091" y="83.20000639999986" color="243,118,29" hidden="true"/><watcher var="topicLedG" style="normal" x="16.00000000000091" y="116.80000960000004" color="243,118,29" hidden="true"/><watcher var="topicLatchingRelay" style="normal" x="16.00000000000091" y="150.40001279999973" color="243,118,29" hidden="true"/><watcher var="topicJsonLeds" style="normal" x="10" y="10" color="243,118,29" hidden="true"/><watcher var="jsonBme" style="normal" x="12" y="32" color="243,118,29" hidden="true"/><watcher var="jsonIn" style="normal" x="13" y="166" color="243,118,29" hidden="true"/></sprites></stage><variables><variable name="broker"><l>vps656540.ovh.net:8081</l></variable><variable name="brokerCredentials"><list struct="atomic" id="1272">user,pass</list></variable><variable name="topicMacReq"><l>/macReq</l></variable><variable name="topicMac"><l>/mac</l></variable><variable name="MAC"><l>0</l></variable><variable name="topicLedW"><l>/7C9EBDF872FC/ledW</l></variable><variable name="topicLedR"><l>/7C9EBDF872FC/ledR</l></variable><variable name="topicLedY"><l>/7C9EBDF872FC/ledY</l></variable><variable name="topicLedG"><l>/7C9EBDF872FC/ledG</l></variable><variable name="topicLatchingRelay"><l>/7C9EBDF872FC/latchingRelay</l></variable><variable name="jsonIn"><list id="1273"><item><list struct="atomic" id="1274">Tx100,2664</list></item><item><list struct="atomic" id="1275">RHx100,2963</list></item><item><list struct="atomic" id="1276">Px100,102048</list></item><item><list struct="atomic" id="1277">Ax100,-6008</list></item><item><list struct="atomic" id="1278">bIO0,0</list></item><item><list struct="atomic" id="1279">bI34,1</list></item><item><list struct="atomic" id="1280">bI35,0</list></item><item><list struct="atomic" id="1281">LDR,1211</list></item></list></variable><variable name="jsonBme"><list id="1282"><item><list struct="atomic" id="1283">Tx100,2645</list></item><item><list struct="atomic" id="1284">RHx100,2902</list></item><item><list struct="atomic" id="1285">Px100,102039</list></item><item><list struct="atomic" id="1286">G,0</list></item><item><list struct="atomic" id="1287">Ax100,-5928</list></item></list></variable><variable name="topicJsonLeds"><l>/7C9EBDF872FC/jsonLeds</l></variable></variables></scene></scenes></project>